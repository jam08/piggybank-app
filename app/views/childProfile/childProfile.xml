<Page xmlns="http://schemas.nativescript.org/tns.xsd" loaded="loaded" navigatedTo="pageNavigatedTo">
  <actionBar>
    <NavigationButton  
      text="Dashboard"
      android.systemIcon="ic_menu_close_clear_cancel" 
      tap="onNavBtnTap"  
    />
  </actionBar>
  <GridLayout columns="*" rows="2*, *, *, 6*" 
    paddingTop="20"
  >
    <Image
      col="0"
      row="0"
      src="{{ image }}"
      stretch="aspectFit"
      verticalAlignment="center"
      horizontalAlignment="center"
    />
    <Label
      col="0"
      row="1"
      text="{{ name }}"
      class="label-heading"
      verticalAlignment="top"
      horizontalAlignment="center"

    />
    <Label
      col="0"
      row="2"
      text="{{ balance }}"
      class="label-heading"
      verticalAlignment="top"
      horizontalAlignment="center"
    />
    <TabView 
      col="0"
      row="3"
      selectedIndexChanged="onSelectedIndexChanged"
      effectiveBorderBottomWidth="1"
      borderBottomWidth="1"
      borderolor="transparent"
      androidSelectedTabHighlightColor="#ee671e"
    >
      <TabView.items>
        <TabViewItem title="Allowance">
          <TabViewItem.view>
            <GridLayout 
              columns="2*, *" 
              rows="*, *" 
              backgroundColor="#ffffff"
            >
              <Label
                col="0"
                row="0"
                colSpan="2" 
                text="{{ message }}"
                class="label-tab"
                verticalAlignment="top"
              />
              <Label
                col="0"
                row="1" 
                text="Make a deposit now"
                class="grid-rows"
                verticalAlignment="top"
                horizontalAlignment="left"
              />
              <Button 
                col="2" 
                row="1" 
                text="+"
                class="grid-rows sm-round-btn"
                verticalAlignment="top"
                horizontalAlignment="right"
              />
              <!--<Button 
                col="0" 
                row="2" 
                text="Transactions"
                borderWidth="1"
                borderColor="transparent"
                backgroundColor="transparent"
                horizontalAlignment="left"
              />-->
            </GridLayout> 
          </TabViewItem.view>
        </TabViewItem>
        <TabViewItem title="My Goals">
          <TabViewItem.view>
            <GridLayout columns="*" rows="*, 3*" backgroundColor="#ffffff">
              <Button
                col="0" 
                row="0" 
                tap="onTap"
                text="Add Goal"
                borderWidth="1"
                borderColor="transparent"
                backgroundColor="transparent"
              />
              <ListView col="0" row="1" class="grid-rows" items="{{ goals }}" itemTap="onItemTap" separatorColor="transparent">
                <ListView.itemTemplate>
                  <GridLayout 
                    class="listItem"
                    id="{{ gid }}" 
                    columns="*, *, *" 
                    rows="*" 
                  >
                    <Image 
                      class="item-img"  
                      col="0" 
                      row="0" 
                      src="{{ image }}" 
                      horizontalAlignment="left" 
                      verticalAlignment="center"
                    />
                    <Label 
                      class="item-name" 
                      col="1" 
                      row="0" 
                      text="{{ name }}" 
                      horizontalAlignment="center" 
                      verticalAlignment="center"
                    />
                    <Label 
                      class="item-cash" 
                      col="2" 
                      row="0" 
                      text="{{ price }}" 
                      horizontalAlignment="right" 
                      verticalAlignment="center"
                    />
                  </GridLayout>
                </ListView.itemTemplate>
              </ListView> 
            </GridLayout>
          </TabViewItem.view>
        </TabViewItem>     
      </TabView.items>
    </TabView>
  </GridLayout>
</Page>